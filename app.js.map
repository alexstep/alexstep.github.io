{"version":3,"sources":["10-dense.js","20-firebase.js","55-main.js","99-yandex.metrika.js"],"names":["factory","define","amd","window","jQuery","Zepto","$","pathStack","methods","regexHasProtocol","regexSuffix","devicePixelRatio","init","options","extend","ping","dimensions","glue","skipExtensions","each","$this","is","hasClass","addClass","image","getImageAttribute","call","originalImage","attr","updateImage","inArray","split","pop","shift","removeClass","replace","extension","test","indexOf","document","domain","location","protocol","readyImage","trigger","dense","one","removeAttr","ajax","url","type","done","data","textStatus","jqXHR","getResponseHeader","push","updateDimensions","img","src","Image","on","width","height","pixelRatio","matchMedia","key","ratio","mediaQuery","Math","floor","join","matches","ceil","eq","i","fn","method","ready","setup_dense","setup_gyroscope_animation","fadeOut","fadeIn","setup_progress_bar_animation","navigator","serviceWorker","register","then","reg","console","info","update","catch","error","main_container","gn","GyroNorm","frequency","gravityNormalized","decimalCount","logger","screenAdjusted","start","css","transform","abs","do","beta","e","$window","progress_bars","$animation_elements","window_height","window_top_position","scrollTop","window_bottom_position","$element","element_height","outerHeight","element_top_position","offset","top","element_bottom_position","isFunction","setup_scrollreveal","ScrollReveal","sr","default_config","duration","delay","easing","scale","mobile","header_config","footer_config","distance","viewOffset","right","bottom","left","default_delay","reveal","metrika_script_url","d","w","c","yaCounter1306677","Ya","Metrika","id","clickmap","trackLinks","n","getElementsByTagName","s","createElement","f","parentNode","insertBefore","async","opera","addEventListener"],"mappings":"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","file":"app.js","sourcesContent":["/**\n * Dense - Device pixel ratio aware images\n *\n * @link    http://dense.rah.pw\n * @license MIT\n */\n\n/*\n * Copyright (C) 2013 Jukka Svahn\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * @name jQuery\n * @class\n */\n\n/**\n * @name fn\n * @class\n * @memberOf jQuery\n */\n\n(function (factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd)\n    {\n        define(['jquery'], factory);\n    }\n    else\n    {\n        factory(window.jQuery || window.Zepto);\n    }\n}(function ($)\n{\n    'use strict';\n\n    /**\n     * An array of checked image URLs.\n     */\n\n    var pathStack = [],\n\n    /**\n     * Methods.\n     */\n\n    methods = {},\n\n    /**\n     * Regular expression to check whether the URL has a protocol.\n     *\n     * Is used to check whether the image URL is external.\n     */\n\n    regexHasProtocol = /^([a-z]:)?\\/\\//i,\n\n    /**\n     * Regular expression that split extensions from the file.\n     *\n     * Is used to inject the DPR suffix to the name.\n     */\n\n    regexSuffix = /\\.\\w+$/,\n\n    /**\n     * Device pixel ratio.\n     */\n\n    devicePixelRatio;\n\n    /**\n     * Init is the default method responsible for rendering \n     * a pixel-ratio-aware images.\n     *\n     * This method is used to select the images that\n     * should display retina-size images on high pixel ratio\n     * devices. Dense defaults to the init method if no\n     * method is specified.\n     *\n     * When attached to an image, the correct image variation is\n     * selected based on the device's pixel ratio. If the image element\n     * defines <code>data-{ratio}x</code> attributes (e.g. data-1x, data-2x, data-3x),\n     * the most appropriate of those is selected.\n     *\n     * If no data-ratio attributes are defined, the retina image is\n     * constructed from the <code>src</code> attribute.\n     * The searched high pixel ratio images follows\n     * a <code>{imageName}_{ratio}x.{ext}</code> naming convention.\n     * For an image found in /path/to/images/image.jpg, the 2x retina\n     * image would be looked from /path/to/images/image_2x.jpg.\n     *\n     * When image is constructed from the src, the image existance is\n     * verified using HTTP HEAD request, if <code>ping</code> option is\n     * <code>true</code>. The check makes sure no HTTP error code is returned,\n     * and that the received content-type is of an image. Vector image formats,\n     * like svg, are skipped based on the file extension.\n     *\n     * This method can also be used to load image in semi-lazy fashion,\n     * and avoid larger extra HTTP requests due to retina replacements.\n     * The data-1x attribute can be used to supstitute the src, making\n     * sure the browser doesn't try to download the normal image variation\n     * before the JavaScript driven behaviour kicks in.\n     *\n     * Some classes are added to the selected elements while Dense is processing\n     * the document. These classes include <code>dense-image</code>, <code>dense-loading</code>\n     * and <code>dense-ready</code>. These classes can be used to style the images,\n     * or hide them while they are being loaded.\n     *\n     * @param {Object} [options={}] Options\n     * @param {Boolean} [options.ping=null] Check image existence. If the default <code>NULL</code> checks local images, <code>FALSE</code> disables checking and <code>TRUE</code> checks even external images cross-domain\n     * @param {String} [options.dimensions=preserve] What to do with the image's <code>width</code> and <code>height</code> attributes. Either <code>update</code>, <code>remove</code> or <code>preserve</code>\n     * @param {String} [options.glue=_] String that glues the retina \"nx\" suffix to the image. This option can be used to change the naming convention between the two commonly used practices, <code>image@2x.jpg</code> and <code>image_2x.jpg</code>\n     * @param {Array} [options.skipExtensions=['svg']] Skipped image file extensions. There might be situations where you might want to exclude vector image formats\n     * @return {Object} this\n     * @method init\n     * @memberof jQuery.fn.dense\n     * @fires jQuery.fn.dense#denseRetinaReady.dense\n     * @example\n     * $('img').dense({\n     *  ping: false,\n     *  dimension: 'update'\n     * });\n     */\n\n    methods.init = function (options)\n    {\n        options = $.extend({\n            ping: null,\n            dimensions: 'preserve',\n            glue: '_',\n            skipExtensions: ['svg']\n        }, options);\n\n        this.each(function ()\n        {\n            var $this = $(this);\n\n            if (!$this.is('img') || $this.hasClass('dense-image'))\n            {\n                return;\n            }\n\n            $this.addClass('dense-image dense-loading');\n\n            var image = methods.getImageAttribute.call(this),\n                originalImage = $this.attr('src'),\n                ping = false,\n                updateImage;\n\n            if (!image)\n            {\n                if (!originalImage || devicePixelRatio === 1 || $.inArray(originalImage.split('.').pop().split(/[\\?\\#]/).shift(), options.skipExtensions) !== -1)\n                {\n                    $this.removeClass('dense-image dense-loading');\n                    return;\n                }\n\n                image = originalImage.replace(regexSuffix, function (extension)\n                {\n                    return options.glue + devicePixelRatio + 'x' + extension;\n                });\n\n                ping = options.ping !== false && $.inArray(image, pathStack) === -1 && (options.ping === true || !regexHasProtocol.test(image) || image.indexOf('//'+document.domain) === 0 || image.indexOf(document.location.protocol+'//'+document.domain) === 0);\n            }\n\n            updateImage = function ()\n            {\n                var readyImage = function ()\n                {\n                    $this.removeClass('dense-loading').addClass('dense-ready').trigger('denseRetinaReady.dense');\n                };\n\n                $this.attr('src', image);\n\n                if (options.dimensions === 'update')\n                {\n                    $this.dense('updateDimensions').one('denseDimensionChanged', readyImage);\n                }\n                else\n                {\n                    if (options.dimensions === 'remove')\n                    {\n                        $this.removeAttr('width height');\n                    }\n\n                    readyImage();\n                }\n            };\n\n            if (ping)\n            {\n                $.ajax({\n                    url  : image,\n                    type : 'HEAD'\n                })\n                    .done(function (data, textStatus, jqXHR)\n                    {\n                        var type = jqXHR.getResponseHeader('Content-type');\n\n                        if (!type || type.indexOf('image/') === 0)\n                        {\n                            pathStack.push(image);\n                            updateImage();\n                        }\n                    });\n            }\n            else\n            {\n                updateImage();\n            }\n        });\n\n        return this;\n    };\n\n    /**\n     * Sets an image's width and height attributes to its native values.\n     *\n     * Updates an img element's dimensions to the source image's\n     * real values. This method is asynchronous, so you can not directly\n     * return its values. Instead, use the 'dense-dimensions-updated'\n     * event to detect when the action is done.\n     *\n     * @return {Object} this\n     * @method updateDimensions\n     * @memberof jQuery.fn.dense\n     * @fires jQuery.fn.dense#denseDimensionChanged.dense\n     * @example\n     * var image = $('img').dense('updateDimensions');\n     */\n\n    methods.updateDimensions = function ()\n    {\n        return this.each(function ()\n        {\n            var img, $this = $(this), src = $this.attr('src');\n\n            if (src)\n            {\n                img = new Image();\n                img.src = src;\n\n                $(img).on('load.dense', function ()\n                {\n                    $this.attr({\n                        width: img.width,\n                        height: img.height\n                    }).trigger('denseDimensionChanged.dense');\n                });\n            }\n        });\n    };\n\n    /**\n     * Gets device pixel ratio rounded up to the closest integer.\n     *\n     * @return {Integer} The pixel ratio\n     * @method devicePixelRatio\n     * @memberof jQuery.fn.dense\n     * @example\n     * var ratio = $(window).dense('devicePixelRatio');\n     * alert(ratio);\n     */\n\n    methods.devicePixelRatio = function ()\n    {\n        var pixelRatio = 1;\n\n        if ($.type(window.devicePixelRatio) !== 'undefined')\n        {\n            pixelRatio = window.devicePixelRatio;\n        }\n        else if ($.type(window.matchMedia) !== 'undefined')\n        {\n            $.each([1.3, 2, 3, 4, 5, 6], function (key, ratio)\n            {\n                var mediaQuery = [\n                    '(-webkit-min-device-pixel-ratio: '+ratio+')',\n                    '(min-resolution: '+Math.floor(ratio*96)+'dpi)',\n                    '(min-resolution: '+ratio+'dppx)'\n                ].join(',');\n\n                if (!window.matchMedia(mediaQuery).matches)\n                {\n                    return false;\n                }\n\n                pixelRatio = ratio;\n            });\n        }\n\n        return Math.ceil(pixelRatio);\n    };\n\n    /**\n     * Gets an appropriate URL for the pixel ratio from the data attribute list.\n     *\n     * Selects the most appropriate <code>data-{ratio}x</code> attribute from\n     * the given element's attributes. If the devices pixel ratio is greater\n     * than the largest specified image, the largest one of the available is used.\n     *\n     * @return {String|Boolean} The attribute value\n     * @method getImageAttribute\n     * @memberof jQuery.fn.dense\n     * @example\n     * var image = $('<div data-1x=\"image.jpg\" data-2x=\"image_2x.jpg\" />').dense('getImageAttribute');\n     * $('body').css('background-image', 'url(' + image + ')');\n     */\n\n    methods.getImageAttribute = function ()\n    {\n        var $this = $(this).eq(0), image = false, url;\n\n        for (var i = 1; i <= devicePixelRatio; i++)\n        {\n            url = $this.attr('data-' + i + 'x');\n\n            if (url)\n            {\n                image = url;\n            }\n        }\n\n        return image;\n    };\n\n    devicePixelRatio = methods.devicePixelRatio();\n\n    /**\n     * Dense offers few methods and options that can be used to both customize the\n     * plugin's functionality and return resulting values. All interaction is done through\n     * the <code>$.fn.dense()</code> method, that accepts a called method and its options\n     * object as its arguments. Both arguments are optional, and either one can be omitted.\n     *\n     * @param {String} [method=init] The called method\n     * @param {Object} [options={}] Options passed to the method\n     * @class dense\n     * @memberof jQuery.fn\n     */\n\n    $.fn.dense = function (method, options)\n    {\n        if ($.type(method) !== 'string' || $.type(methods[method]) !== 'function')\n        {\n            options = method;\n            method = 'init';\n        }\n\n        return methods[method].call(this, options);\n    };\n\n    /**\n     * Initialize automatically when document is ready.\n     *\n     * Dense is initialized automatically if the body element\n     * has a <code>dense-retina</code> class.\n     */\n\n    $(function ()\n    {\n        $('body.dense-retina img').dense();\n    });\n\n    /**\n     * This event is invoked when a retina image has finished loading.\n     *\n     * @event jQuery.fn.dense#denseRetinaReady.dense\n     * @type {Object}\n     */\n\n    /**\n     * This event is invoked when an image's dimension values\n     * have been updated by the <code>updateDimensions</code>\n     * method.\n     *\n     * @event jQuery.fn.dense#denseDimensionChanged.dense\n     * @type {Object}\n     */\n}));\n","\n// firebase.initializeApp({\n// \tapiKey: \"AIzaSyA0IFUqgNP5UpDji_35_-G6AMQomCobA1k\",\n// \t// authDomain: \"alexstep-fcd6b.firebaseapp.com\",\n// \tauthDomain: \"alexstep.com\",\n// \tdatabaseURL: \"https://alexstep-fcd6b.firebaseio.com\",\n// \tstorageBucket: \"\",\n// });","\n$(document).ready(function() {\n\t$('html').addClass('js-enabled');\n\n\tsetup_dense();\n\n\n\tsetup_gyroscope_animation();\n\t$(\".js-preloader\").fadeOut(800, function() {\n\t\t$(\".js-main-container\").fadeIn(800);\n\t\tsetup_progress_bar_animation();\t\n\t});\n\n\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker\n\t\t\t.register('/sw.js')\n\t\t\t.then(function(reg) {\n\t\t\t\tconsole.info(reg)\n\t\t\t\treg.update()\n\t\t\t}).catch(function(error) {\n\t\t\t\tconsole.error(error)\n\t\t\t})\n\t}\n\n});\n\n\n/* \n * Gyroscope Effect \n */\nfunction setup_gyroscope_animation(){\n\tif ($(window).width() > 600) {\n\t\treturn;\n\t}\n\tvar main_container = $('.gyroscope-effect');\n\n\n\tvar gn = new GyroNorm();\n\t\tgn.init({\n\t\t\tfrequency:         30,                  // ( How often the object sends the values - milliseconds )\n\t\t\tgravityNormalized: true,         // ( If the garvity related values to be normalized )\n\t\t\tdecimalCount:      4,                 // ( How many digits after the decimal point will there be in the return values )\n\t\t\tlogger:            null,                    // ( Function to be called to log messages from gyronorm.js )\n\t\t\tscreenAdjusted:    true            // ( If set to true it will return screen adjusted values. )\n\t\t}).then(function(){\n\t\t\tgn.start(function(data){\n\t\t\t\tmain_container.css({transform: \n\t\t\t\t\t'perspective(100px) rotateX('+((Math.abs(data.do.beta)-45)/20)+'deg) '\n\t\t\t\t});\n\t\t\t});\n\t\t}).catch(function(e){ });\n}\n\nfunction setup_progress_bar_animation(){\n\tvar $window = $(window);\n\t\n\tfunction progress_bars(){\n\t\tvar $animation_elements = $(\"[class*='a-']\");\n\t\t\t$.each($animation_elements, function() {\n\t\t\t\tvar window_height = $window.height();\n\t\t\t\tvar window_top_position = $window.scrollTop();\n\t\t\t\tvar window_bottom_position = (window_top_position + window_height);\n\t\t\t\tvar $element = $(this);\n\t\t\t\tvar element_height = $element.outerHeight();\n\t\t\t\tvar element_top_position = $element.offset().top;\n\t\t\t\tvar element_bottom_position = (element_top_position + element_height);\n\n\t\t\t\t// Check to see if this current container is within viewport\n\t\t\t\tif ((element_bottom_position >= window_top_position) &&\n\t\t\t\t\t(element_top_position <= window_bottom_position)) {\n\t\t\t\t\t$element.addClass('in-view');\n\n\t\t\t\t\t// Animate progress bar\n\t\t\t\t\tif ($element.hasClass('a-progress-bar')) {\n\t\t\t\t\t\t$element.css('width', $element.attr('data-percent') + '%');\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\t//else {\n\t\t\t\t//    $element.removeClass('in-view');\n\t\t\t\t//}\n\t\t\t});\n\t}\n\n\n\tprogress_bars();\n\t\n\t$window.on('scroll', function(){\n\t\tprogress_bars();\n\t});\n\t$('.gyroscope-effect').on('scroll resize', function() {\n\t\tprogress_bars();\n\t});\n}\n\n\nfunction setup_dense(){\n\tif($.isFunction($.fn.dense)) {\n\t\t$('img').dense({ 'glue': '@' });\n\t}\n}\n\n\nfunction setup_scrollreveal(){\n\tif(typeof ScrollReveal !== 'undefined' && $.isFunction(ScrollReveal)) {\n\n\t\twindow.sr = ScrollReveal();\n\n\t\tvar default_config = {\n\t\t\tduration: 500,\n\t\t\tdelay: 0,\n\t\t\teasing: 'ease',\n\t\t\tscale: 1,\n\t\t\tmobile: false\n\t\t};\n\t\tvar header_config = $.extend(false, default_config, {\n\t\t\tduration: 1200,\n\t\t\tdelay: 700\n\t\t});\n\n\n\t\tvar footer_config = $.extend(false, default_config, {\n\t\t\tduration: 1500,\n\t\t\tdistance: 0,\n\t\t\tviewOffset: {top: 0, right: 0, bottom: 100, left: 0}\n\t\t});\n\n\t\tvar default_delay = 175;\n\n\t\tsr.reveal('.a-header', header_config, default_delay);\n\t\tsr.reveal('.a-footer', footer_config, default_delay);\n\n\t}\n}","// var metrika_script_url = '//mc.yandex.ru/metrika/watch.js';\nvar metrika_script_url = '//alexstep.com/libs/metrika.js';\n\n(function (d, w, c) {\n    (w[c] = w[c] || []).push(function() {\n        try {\n            w.yaCounter1306677 = new Ya.Metrika({id:1306677,\n                    clickmap:true,\n                    trackLinks:true});\n        } catch(e) { }\n    });\n\n    var n = d.getElementsByTagName(\"script\")[0],\n        s = d.createElement(\"script\"),\n        f = function () { n.parentNode.insertBefore(s, n); };\n    s.type = \"text/javascript\";\n    s.async = true;\n    s.src = (d.location.protocol == \"https:\" ? \"https:\" : \"http:\") + metrika_script_url;\n\n    if (w.opera == \"[object Opera]\") {\n        d.addEventListener(\"DOMContentLoaded\", f, false);\n    } else { f(); }\n})(document, window, \"yandex_metrika_callbacks\");"]}